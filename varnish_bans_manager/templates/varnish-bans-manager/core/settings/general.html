{% extends "varnish-bans-manager/core/settings/layout.html" %}
{% load i18n %}
{% load url from future %}
{% load vbm_widget_helpers %}
{% load vbm_form_helpers %}

{% block title %}{% trans 'Settings' %} > {% trans 'General' %}{% endblock %}

{% block sidebar_section %}general{% endblock %}

{% block sidebar_content %}
  <div class="page-header">
    <h1>
      {% trans 'General settings' %}
      <small>{% trans 'Adjust general Varnish Bans Manager settings' %}</small>
    </h1>
  </div>

  <div id="breadcrumb">
    <i class="font-awesome font-awesome-home"></i>
    <span class="item">{% trans 'Settings' %}</span>
    <a href="{% url 'settings-general' %}" class="navigation current">{% trans 'General' %}</a>
  </div>

  <div class="row-fluid">
    <form class="ajax offset1 span10" data-url="{% url 'settings-general' %}">
      <fieldset>
        <legend>{% trans 'Ban expressions' %}</legend>
      </fieldset>

      <div class="row-fluid">
        {% form_cgroup form.host_matching_variable 'span6' %}
          {{ form.host_matching_variable.label_tag }}
          <div class="controls">
            <div class="input-prepend">
              <span class="add-on"><i class="font-awesome font-awesome-cog"></i></span>
              {{ form.host_matching_variable|add_class:"span12" }}
            </div>
          </div>
          <span class="help-block">{{ form.host_matching_variable.help_text|safe }}</span>
          {% form_ferrors form.host_matching_variable 'block' %}
        {% endform_cgroup %}

        {% form_cgroup form.url_matching_variable 'span6' %}
          {{ form.url_matching_variable.label_tag }}
          <div class="controls">
            <div class="input-prepend">
              <span class="add-on"><i class="font-awesome font-awesome-globe"></i></span>
              {{ form.url_matching_variable|add_class:"span12" }}
            </div>
          </div>
          <span class="help-block">{{ form.url_matching_variable.help_text|safe }}</span>
          {% form_ferrors form.url_matching_variable 'block' %}
        {% endform_cgroup %}
      </div>

      <div class="row-fluid">
        {% form_cgroup form.base_ban_expression 'span12' %}
          {{ form.base_ban_expression.label_tag }}
          <div class="controls">
            <div class="input-prepend">
              <span class="add-on"><i class="font-awesome font-awesome-filter"></i></span>
              {{ form.base_ban_expression|add_class:"span12" }}
            </div>
          </div>
          <span class="help-block">{{ form.base_ban_expression.help_text }}</span>
          {% form_ferrors form.base_ban_expression 'block' %}
        {% endform_cgroup %}
      </div>

      <fieldset>
        <legend>{% trans 'Notifications' %}</legend>
      </fieldset>

      <div class="row-fluid">
        <label class="checkbox">
          {{ form.notify_bans }} {{ form.notify_bans.label|safe }}
          <span class="help-block">{{ form.notify_bans.help_text }}</span>
        </label>
      </div>

      <div class="form-actions pull-right">
        <button class="btn btn-primary" type="submit"><i class="icon-ok icon-white"></i> {% trans 'Save' %}</button>
      </div>
    </form>
  </div>
{% endblock %}
